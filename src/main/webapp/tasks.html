<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Task list</title>
    <link rel="stylesheet" type="text/css" href="resources/styles/tasks.css" media="screen"/>
    <script src="resources/scripts/jquery-2.0.3.js"></script>
    <script src="resources/scripts/jquery-tmpl.js"></script>
    <script src="resources/scripts/jquery.validate.js"></script>
    <script src="resources/scripts/jquery-serialization.js"></script>
    <script src="resources/scripts/storage-types.js"></script>
    <script src="resources/scripts/tasks-controller.js"></script>
    <script src="resources/scripts/date.js"></script>
</head>
<body>
<header>
    <span>Task list</span>
</header>
<main id="taskPage">
    <section id="taskCreation" class="not">
        <div id="selectUserTable">
            <table id="userTable">
                <colgroup>
                    <col width="40">
                    <col width="40%">
                    <col width="20%">

                </colgroup>
                <thead>
                <tr>
                    <th>First Name</th>
                    <th>Second Name</th>
                    <th>User ID</th>

                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <form id="taskForm">
            <input type="hidden" name="id"/>

            <div>
                <label>Task</label> <input type="text" required="required"
                                           name="task" class="large" placeholder="Breakfast at Tiffanys"
                                           maxlength="200"/>
            </div>
            <div>
                <label>Priority</label> <select name="priority">
                <option value="None">None</option>
                <option value="1">first</option>
                <option value="2">second</option>
                <option value="3">third</option>
                <option value="4">fourth</option>
                <option value="5">fivth</option>
                <option value="6">sixth</option>
            </select>
            </div>

            <div>
                <label>Required by</label> <input type="date" required="required"
                                                  name="requiredBy"/>
            </div>
            <div>
                <label>Category</label> <select name="category">
                <option value="Personal">Personal</option>
                <option value="Work">Work</option>
            </select>
            </div>


            <nav>
                <a href="#" id="saveTask">Save task</a>
                <!-- https://stackoverflow.com/questions/4855168/what-is-href-and-why-is-it-used -->
                <a href="#" id="clearTask">Clear task</a>
            </nav>

        </form>

    </section>
    <!-- add User -->
    <section id="userCreation" class="not">
        <form id="addUserForm">
            <input type="hidden" name="id"/>
            <div>
                <label>First Name</label> <input type="text" required="required" name="userID"
                                                 class="large" placeholder="Breakfast at Tiffanys" maxlength="200"/>
            </div>
            <div>
                <label>Last Name</label> <input type="text" required="required"
                                                name="task" class="large" placeholder="Breakfast at Tiffanys"
                                                maxlength="200"/>
            </div>
            <div>
                <label>Address </label> <input type="text" required="required"
                                               name="task" class="large" placeholder="Breakfast at Tiffanys"
                                               maxlength="200"/>
            </div>

            <nav>
                <a href="#" id="saveUser">Save task</a>
                <!-- https://stackoverflow.com/questions/4855168/what-is-href-and-why-is-it-used -->
                <a href="#" id="clearUser">Clear task</a>
            </nav>

        </form>

    </section>

    <div class="teamWrapper not">
        <div id="addTeam">
            <a href="#" id="teamClose" class="close">x</a>
            <h2>Add new team</h2>
            <hr>
            <form id="teamForm">
                <div>
                    <label for="teamName">Team Name:</label>
                    <input type="text" id="teamName" name="teamName" placeholder="Name" required="required"
                           maxlength="50">
                </div>
                <nav>
                    <a href="#" id="saveTeam">Save</a>
                </nav>
            </form>
        </div>
    </div>

    <section>
        <div>
            <select name="sort">
                <option value="sortByPriority" id="priority">Sort By Priority</option>
                <option value="sortByUserId">Sort By User Id</option>
            </select>
        </div>
        <table id="tblTasks">
            <colgroup>

                <col width="40%">
                <col width="10%">
                <col width="10%">
                <col width="10%">

                <col width="10">
                <col width="30%">
                <col width="15%">
                <col width="15%">

                <col width="30%">
            </colgroup>
            <thead>
            <tr>

                <th>Name</th>
                <th>Priority</th>

                <th>User ID</th>
                <th>Task</th>

                <th>Due</th>
                <th>Category</th>
                <th>Actions</th>

            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <nav>
            <a href="#" id="btnAddTask">Add task</a>
            <a href="#" id="btnRetrieveTasks">Retrieve tasks from server</a>
            <a href="#" id="addUserButton">Add User</a>
            <!-- https://stackoverflow.com/questions/4855168/what-is-href-and-why-is-it-used -->
            <a href="#" id="addTeamButton">Add Team</a>

        </nav>
    </section>
</main>
<footer>You have <span id="taskCount"></span> tasks</footer>
</body>
<script>
    console.log("using remote storage");
    $.getScript("resources/scripts/tasks-remotedb.js")
        .done(function (script, textStatus) {
            $(document).ready(function () {
                tasksController.init($('#taskPage'), function () {
                    tasksController.loadTasks();
                });
            });
        })
        .fail(function (jqxhr, settings, exception) {
            console.log('Failed to load remote db script');
        });
</script>

<script id="taskRow" type="text/x-jQuery-tmpl">
<tr>
    <td {{if complete == true}}class="taskCompleted"{{/if}}>${userID}</td>
	<td {{if complete == true}}class="taskCompleted"{{/if}}>${task}</td>
	<td>{{if complete == true}}class="taskCompleted"{{/if}} ${priority}</td>
	<td {{if complete == true}}class="taskCompleted"{{/if}}>${category}</td>
	<td {{if complete == true}}class="taskCompleted"{{/if}}><time datetime="${requiredBy}">${dueDate}</time></td>
     <td>
		<nav>
			{{if complete != true}}
				<a href="#" class="editRow" data-task-id="${id}">Edit</a>
				<a href="#" class="completeRow" data-task-id="${id}">Complete</a>
			{{/if}}
			<a href="#" class="deleteRow" data-task-id="${id}">Delete</a>
		</nav>
	</td>
</tr>





</script>


</html>

